{% extends 'main.html' %}
{% load static %}  

{% block content %} 

 
<style>

  table, th, td {
    border: 1px solid white;
    border-collapse: collapse;
    text-align: center;
    word-wrap: break-word;
    
  }
  th, td {
    /*background-color: #96D4D4;*/
  }
  
  </style>
  
    <div class="row artisan-job-info" style="margin-top: 40px;">
     
      <div class="col-md-12">
        
       
        <div class="card card-body">
          <button class="btn btn-success  btn-sm btn-block" style="background-color: #96D4D4;" href="">Service Completed 
            &nbsp;&nbsp;<a class="btn btn-danger  btn-sm btn-block" style=" border: none;" href="{% url 'artisan:confirmed_orders' %}">Dashboard</a>
          </button>
          
          <table class="table table-sm" style="margin-top: 30px;">
            <tr>
              <td>Job Name</td>
              <td>Category </td>
              <td>No Of Person</td>
              <td>Job Description</td>
              <td>Address </td>
              <td>Date</td>
              <td>Client's Name</td>
              <td>Phone</td>
              <td style="font-size: larger;">Amount</td>
            </tr>

          
         
           {% for result in job_info %}
            <tr>
              <td>{{ result.product.name }}</td>
              <td>{{result.product.category }}</td>
              <td>{{ result.quantity }}</td>
              <td>{{result.description}}</td>
              <td>{{ result.address }}</td>
              <td>{{result.date_created}}</td>

              <td> {{result.user.last_name}}</td>
              <td> {{result.user.details.phone}}</td>
              <td style="background-color: #dc3545; color: #fff;">{{ result.get_service_rate }}</td>

              <!--<td><a class="btn btn-success" href="">Accept</a></td>
              <td><a class="btn btn-danger" href="">Decline</a></td>-->
            </tr>
            <div class="container" style="margin-top: 20px;">
              <div class="items" style="align-items: center; text-align: center;">

            <td><a class="btn btn-success"  href="{% url 'artisan:accepted' result.id %}">Accept</a></td>
      
            <td><a class="btn btn-danger" href="{% url 'artisan:confirmed_orders' %}">Decline</a></td>
              </div>
            </div>


            {% for i result.artisan_assigned %}
            {{ i.user.username}}
            {{ i.user.nin}}
            {{ i.user.username}}
            {{ i.user.location}}
            {% endfor %}

            {% endfor %}
       
        
<h1 style="color: red;">Job id :{{pt}}</h1>

          </table>
          
        
        </div>
          
        </div>
        
      </div>



      <h3>ordered:{{job_info.ordered}}</h3>
      <h3>quantity:{{job_info.quantity}}</h3>
      <h3>status:{{job_info.status}}</h3>
      
      <h3>description:{{job_info.description}}</h3>
      <h3>address:{{job_info.address}}</h3>
      <h3>date_created:{{job_info.date_created}}</h3>
      
      {% for name in job_info.artisan_assigned.all %}
      <h2 style="color: green;"> artisan name :{{job_info..user.username }}</h2>
      
      
      <h3 style="color: blue;">id is:{{ job_info.artisan_assigned.user.id }}</h3>
      
      <h3 style="color: blue;">name is:{{ job_info.artisan_assigned.username }}</h3>
      
      <h3 style="color: blue;">nin is:{{ job_info.artisan_assigned.user.nin }}</h3>
      <h3 style="color: blue;">location is:{{job_info.artisan_assigned.user.location}}</h3>
      <h3 style="color: blue;">phone is:{{job_info.artisan_assigned.user.phone}}</h3>
      <h3 style="color: blue;">profession{{job_info.artisan_assigned.user.profeesional_name}}</h3>
      {% endfor %}

  

<!--<div class="container pop">
  <button type="submit" class="btnn btn-danger" onclick="openPopup()">Submit</button>
  <div class="popup" id="popup">
   <div class="pop-img">
    <img src="/static/images/elect1.jpg" alt="">
   </div>
    <h2>thank you</h2>
    <p>your details has been successfully submitted</p>
    <button type="button" onclick="closePopup()">Ok</button>
  </div>
</div>


  <div class="container pop">
              <td><button type="button" class="btn btn-danger" onclick="openPopup()">check</button></td>
              <div class="popup" id="popup" >
               <div class="pop-img">
                <img src="/static/images/elect1.jpg" alt="">
               </div>
                <h2>thank you</h2>
                <p>your details has been successfully submitted</p>
                <p>Hope you understand what the job requires and you have the necessary skills to do it.Please understand that here is no room for mistakes </p>
                <button type="button" onclick="closePopup()">Ok</button>
                <a class="btn btn-success"  id="" href="">Accept</a>
              </div>
            </div>
-->


<style>
  .popp{
    width: 100%;
    height: 100%;
    background-color: #3c5077;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  /*.btnn{
    padding: 10px 60px;
    background: #fff;
    border: 0;
    outline: none;
    cursor: pointer;
    font-size: 22px;
    font-weight: 500;
    border-radius: 30px;
  }*/
  .popup{
    width: 350px;
    background-color: #fff;
    border-radius: 6px;
    position: absolute;
    /*top:0;*/
    /*top: -50px;
    left: -50px;*/
    transform: translate(-50%,-50%) scale(0.1);
    text-align: center;
    padding: 0 30px 30px;
    color: #333;
    visibility: hidden;
    transition: transform 0.4s, top 0.4s;
  }
  .popup .pop-img{
    width: 100px;
    height: 100px;
    
  }
  .popup .pop-img img{
    width: 100%;
    height: 100%;
    margin-top: -50px;
    border-radius: 50%;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  }
  .popup h2{
    font-size: 38px;
    font-weight: 500;
    margin: 30px 0 10px;
  }
  .popup button{
    width: 100%;
    margin-top: 50px;
    padding: 10px 0;
    background-color: #6fd649;
    color: #fff;
    border: 0;
    outline: none;
    font-size: 18px;
    border-radius: 4px;
    cursor: pointer;
    box-shadow: 0 5px 5px rgba(0, 0, 0, 0.2);
  }
  .open-popup{
    visibility: visible;
    top: 50%;
    transform: translate(-50%,-50%) scale(1);
  }
  /*#accept{
    visibility: hidden;
  }*/
</style>
<script>
 let popup = document.getElementById('popup');
 //let accept = document.getElementById('accept');

 function openPopup(){
   popup.classList.add("open-popup");

 }
 function closePopup(){
   popup.classList.remove("open-popup");
 }
</script>


{% endblock %}
